# 객체지향은 여전히 유용한가?

종종 받게 되는 질문 : 객체지향은 여전히 유용한가요?

왜 이런 질문이 나올까?
-> 강의가 끝나면 질문자와 대화해봄

다양한 이유 : 맡는 도메인과 팀에 따라서
위 질문보다는 다른 질문을 하는게 더 건설적인 것 같다

발표에서는 요구사항을 절차지향방식과 객체지향방식으로 짜볼 것이다
코드를 변경해보며 두 방식에 미치는 영향을 살펴보자

시스템 가정 : 장바구니에 할인 프로모션 적용
![[장바구니에 할인 프로모션 적용.png]]
어떤 장바구니에 할인을 적용할지 말지를 판단하고, 조건이 적합하면 장바구니에 할인 적용

조건 : 사용자가 장바구니에 담은 모든 금액이 프로모션 기준 금액보다 높으면 프로모션 적용

![[절차vs객체.png]]
절차 : 데이터와 프로세스를 별도의 클래스로 구현
데이터를 담고 있지 않은 별도의 클래스에서 프로세스 진행

객체지향 : 데이터와 프로세스를 하나에 뭉쳐놓은 것

요점 : 코드 자체가 잘 짜여졌는지에 대한 질문보다는 어떤 요구사항이 변경되었을 때 어떤 설계를 선택할지를 판단하는 것이 더 중요하다

## 요구사항 변경 시작!

### 1. 데이터가 변경되는 요구사항

**절차적인 설계**

- 절차적인 설계는 데이터와 프로세스가 별도의 클래스에 구현되어있기 때문에 데이터를 변경하면 프로세스도 같이 바뀌어야 한다.
  -> 결합도가 높다 == 클래스 변경 시 다른 클래스가 높은 확률로 같이 변경된다.
- 데이터를 변경하면 데이터에 의존하는 모든 클래스가 다 바뀜

**객체지향 설계**

- 데이터와 이 데이터를 사용하는 로직을 한 곳에 모아두기 때문에 데이터 요구사항이 변경되어도 하나의 클래스만 변경하면 된다
  -> 결합도가 낮다

**데이터가 바뀌는 경우 절차지향보다는 객체지향이 더 좋다**

### 2. 새로운 타입 추가

**절차적인 설계**

- 국소적인 리팩토링 필요
- 무조건 내부의 코드를 수정해야 함

**객체지향 설계**

- 큰 리팩토링 필요
- 하지만, 리팩토링 후 객체지향은 다른 코드를 수정하지 않고 데이터 변경과 타입 확장 가능
  -> 객체지향의 장점

객체지향의 추가 장점은 일관성 있는 설계이다.
하지만, 절차지향은 일관적인 구조를 강제하기 어렵다.

그렇다고, 객체지향이 더 좋은가?
-> 무조건 좋지는 않다

### 3. 새로운 기능 추가

다형성과 기능 추가 사이의 긴장
타입 계층 전체 수정

타입 확장에는 유연하지만, 타입에 수정이 발생하면 모든 타입에 수정이 발생

현재 우리가 변경하는 것들이
타입이 확장되는 경우가 많은지 -> 객체지향 유리
아니면 타입은 거의 고정이고 타입의 종류를 사용하는 기능이 더 많은지 -> 절차지향 유리

지금까지는 시스템 상태 변경에만 해당

### 4. 데이터 변환

![[데이터 변환은.png]]
절차적인 설계는 데이터 변환이 쉽다.
이미 데이터가 존재하기 때문에 프로세스에서 데이터를 꺼내서 끼워맞춰 넣어주기만 하면 되기 때문이다.
타입이 확장되는 경우가 아니고, 기능이 추가되고 데이터를 처리하는 로직이라면 절차지향이 편리하다.
-> 새로운 기능 추가가 쉽고 데이터 처리에 적합

객체지향 설계는 데이터 변환에 대응하기 어렵다.
데이터를 변환하는 상황에서 객체지향은 각 구현체마다 변경이 발생하게 되며 상당히 어색하고 불편하다.
