# 아이템 72. 표준 예외를 사용하라

숙련된 프로그래머는 그렇지 못한 프로그래머보다 더 많은 코드를 재사용한다.

예외도 마찬가지다.

## 표준 예외

표준 예외를 재사용하면 얻는 장점들

- 해당 API를 다른 사람이 익히고 사용하기 쉬워진다
- API를 사용한 프로그램도 낯선 예외를 사용하지 않게 되어 읽기 쉽다
- 예외 클래스 수가 적을수록 메모리 사용량도 줄고 클래스를 적재하는 시간도 적게 걸린다

> `IllegalArgumentException`

- 가장 많이 재사용되는 예외
- 호출자가 인수로 부적절한 값을 넘길 때 던지는 예외

> `IllegalStateException`

- 대상 객체의 상태가 호출된 메서드를 수행하기에 적합하지 않을 때 던지는 예외
- ex) 제대로 초기화되지 않는 객체를 사용하려 할 때

> `NullPointerException`

- null 값을 허용하지 않는 메서드에 null을 건네면 관례상 `IllegalArgumentException` 이 아니라 `NullPointerException` 을 던진다.

> `IndexOutOfBoundsException`

- 어떤 시퀀스의 허용 범위를 넘는 값을 건널 때 던지는 예외

> `ConcurrentModificationException`

- 단일 스레드에서 사용하려고 설계한 객체를 여러 스레드가 동시에 수정하려 할 때 던지는 예외
- 문제가 생길 가능성을 알려주는 정도의 역할

> `UnsupportedOperationException`

- 클라이언트가 요청한 동작을 대상 객체가 지원하지 않을 때 던지는 예외
- 흔히 쓰이는 예외는 아니지만 보통은 구현하려는 인터페이스의 메서드 일부를 구현할 수 없을 때 쓰인다.

### Exception, RuntimeException, Error, Throwable은 직접 재사용하지 말자

위 클래스들은 추상 클래스라고 생각해야 한다.

이 예외들은 다른 예외들의 상위 클래스이므로, 여러 성격의 예외들을 포괄하는 클래스이므로 안정적으로 테스트할 수 없다.

### 상황에 부합한다면 항상 표준 예외를 재사용하자.

API 문서를 참고해 그 예외가 어떤 상황에서 던져지는지 확인하고 예외의 이름뿐 아니라 예외가 던져지는 맥락도 부합할 때만 재사용한다.

더 많은 정보를 제공하고 싶다면 표준 예외를 확장해도 좋다.

단, 예외는 직렬화할 수 있으므로 만들지 않는 것이 좋다. (직렬화에는 많은 부담이 따른다)

### 예외 선택 팁

예외들의 주요 쓰임이 상호 배타적이지 않기 때문에 종종 재사용할 예외를 선택하기가 어려울 때도 있다.

인수 값이 무엇이었든 어차피 실패했을 경우 → `IllegalStateException`

인수 값 때문에 실패한 경우 → `IllegalArgumentException`
