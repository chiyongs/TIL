# 아이템 34. int 상수 대신 열거 타입을 사용하라

열거 타입 : 일정 개수의 상수 값을 정의 → 그 외의 값은 허용하지 않는 타입

열거 타입 지원 전에는 정수 열거 패턴을 사용했다. (int enum pattern)

## 정수 열거 패턴

```java
public static final int APPLE_FUJI = 0;
public static final int APPLE_PIPPIN = 1;
public static final int APPLE_GRANNY_SMITH = 2;

public static final int ORANGE_NAVEL = 0;
public static final int ORANGE_TEMPLE = 1;
public static final int ORANGE_BLOOD = 2;
```

- 단점
  - 타입 안전을 보장 X
  - 표현력이 좋지 않음
  - 오렌지를 넣어야 할 메서드에 사과를 넣어도 컴파일러의 경고 X
  - 정수 열거 패턴을 위한 별도의 namespace 존재 X → 접두어를 써서 이름 충돌 방지해야함
  - 상수의 값이 바뀌면 클라이언트도 반드시 다시 컴파일해야 함
  - 문자열로 출력하기 다소 까다롭다. → 그 값을 출력하거나 디버거로 살펴보면 의미가 아닌 숫자로만 보여 도움이 되지 않음
  - 문자열 열거 패턴 : 정수 대신 문자열 상수를 사용하는 변형 패턴
    - 하드 코딩한 문자열에 오타가 있어도 컴파일러는 확인할 길이 없어 런타임 버그 발생 가능

이런 정수 열거 패턴의 단점들을 완전히 보완 가능한 것이 바로 열거 타입, `Enum`이다.

## 열거 타입

```java
public enum Apple { FUJI, PIPPIN, GRANNY_SMITH }
public enum Orange { NAVEL, TEMPLE, BLOOD }
```

자바의 열거 타입 : 완전한 형태의 클라스, 다른 언어의 열거 타입보다 훨씬 강력 (다른 언어의 열거 타입은 단순한 정수값일 뿐)

자바 열거 타입의 아이디어

- 열거 타입 자체는 클래스
- 상수 하나당 자신의 인스턴스를 하나씩 만들어 public static final 필드로 공개
- 밖에서 접근할 수 있는 생성사를 제공 X → 사실상 final
- 열거 타입 선언으로 만들어진 인스턴스들은 딱 하나씩만 존재하는 것이 보장됨 → 싱글톤을 일반화한 형태

### 장점

- 컴파일타임 타입 안전성을 제공
  - 다른 타입의 값을 넘기려하면 컴파일 오류 발생
- 각자의 namespace가 있어 이름이 같은 상수도 평화롭게 공존 가능
- 새로운 상수를 추가하거나 순서를 바꿔도 다시 컴파일하지 않아도 됨
  - 공개되는 것이 오직 필드의 이름뿐이라, 정수 열거 패턴과 달리 상수 값이 클라이언트로 컴파일되어 각인되지 않기 때문
- 열거 타입의 toString 메서드는 출력하기에 적합한 문자열을 내어줌
- 임의의 메서드나 필드를 추가할 수 있고 임의의 인터페이스를 구현하게 할 수도 있다.
