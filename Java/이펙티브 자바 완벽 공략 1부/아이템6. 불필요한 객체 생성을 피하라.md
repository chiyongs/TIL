# 아이템6. 불필요한 객체 생성을 피하라

### 문자열

JVM의 내부적으로 문자열을 다 캐싱을 하고 있다.
한 번 만들어진 문자열은 일종의 해시맵에 담아놓고 동일한 문자열을 참조하려하면 이미 만들어놓은 문자열을 참조시킨다.
`new String("hello")` 는 사용하지 않는 것이 맞다.

따라서, 문자열은 사실상 동일한 객체이므로 매번 새로 만들 필요가 없다.

### 정규표현식

정규표현식은 생성 비용이 비싼 객체라서 반복해서 생성하기 보다, 캐싱하여 재사용하는 것이 좋다.

내부적으로 패턴이 사용되는 곳

1. `String.matches(String regex)`
2. `String.split(String regex)`
   1. 대안 : `Pattern.compile(regex).split(str)`
   2. 쉼표 또는 1개의 char로 문자열을 split하는 경우에는 굳이 패턴으로 만들지 않아도 상관 없다. (1개의 char인 경우는 패턴으로 만들지 않고 split하기 때문이다.)
3. `String.replace*(String regex, String replacement)`
   1. 대안 : `Pattern.compile(regex).matcher(str).replaceAll(repl)`

### 오토박싱

- Primitive type → Wrapper type으로 변환하는 과정
- Primitive type과 Wrapper type을 섞어서 사용하면 변환 과정으로 불필요한 객체가 생성될 수 있다.
