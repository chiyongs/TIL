# 아이템 55. 옵셔널 반환은 신중히 하라

## 자바 8 이전

자바 8 이전, 메서드가 특정 조건에서 값을 반환할 수 없을 때 취할 수 있는 선택지

- 예외를 던지기
- (반환 타입이 객체 참조라면) null을 반환하기

두 방식 모두 허점이 존재한다.

- 예외를 던지기
  - 예외는 진짜 예외적인 상황에서만 사용해야 함
  - 예외를 생성할 때 스택 추적 전체를 캡쳐하므로 비용도 만만치 않음
- (반환 타입이 객체 참조라면) null을 반환하기

  - 별도의 null 처리 코드를 추가해야 함
  - 언젠가 NPE 발생할 수 있음

## 자바 8 이후

> Optional<T>의 등장

Optional<T>는 null이 아닌 T 타입 참조를 하나 담거나, 혹은 아무것도 담지 않을 수 있다.
아무것도 담지 않은 옵셔널은 `비었다` 고 말한다.
옵셔널 : 원소를 최대 1개 가질 수 있는 불변 컬렉션

보통 T를 반환해야 하지만 특정 조건에서는 아무것도 반환하지 않아야 할 때 T 대신 Optional<T>를 반환하도록 선언
→ 유효한 반환값이 없을 때는 빈 결과를 반환하는 메서드가 만들어진다.
옵셔널을 반환하는 메서드는 예외를 던지는 메서드보다 유연하고 사용하기 쉬우며, null을 반환하는 메서드보다 오류 가능성이 적다.
