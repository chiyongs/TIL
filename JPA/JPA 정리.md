# JPA

객체 지향 프로그래밍과 관계형 데이터베이스 간의 패러다임 불일치

- 상속
- 연관관계
- 데이터 타입
- 데이터 식별 방법

## 상속

상속관계의 객체를 DB에 저장하려면,
각각의 테이블에 따른 JOIN SQL을 작성하고, 각각의 객체를 생성하고 등등 여러 작업들이 필요하다.
→ DB에 저장할 객체에는 상속 관계를 사용하지 않게 됨

하지만, 자바 컬렉션에 저장된 객체는 조회 시 부모 타입으로 조회 후 다형성을 활용할 수 있다.

## 연관관계

테이블에 맞춰 객체를 모델링하게 되면 객체에 연관관계를 위한 외래 키 필드가 필요해진다.
하지만, 객체 지향에서는 객체 자체의 참조로 연관관계를 맺어서 객체 그래프를 순회할 수 있다.

## 엔티티 신뢰 문제

SQL로 데이터를 조회할 때 범위에 맞춰 데이터를 가져오게 되는데 객체 그래프를 순회할 때 해당 데이터가 조회되지 않아 데이터가 채워지지 않은 경우가 발생할 수 있다.
→ 용도에 따라 동일한 엔티티를 여러 번 조회해야 하는 경우가 발생

또한, 동일한 쿼리로 조회하여 만들어진 두 객체가 `==` 연산자로 비교 시 false가 나오게 된다.

객체를 객체답게 모델링할 수록 매핑 작업이 늘어남
→ 객체를 자바 컬렉션에 저장하듯이 DB에 저장하는 방법
→ JPA
