# 리플렉션

스프링에서는 `@Autowired` 또는 생성자 주입 같은 기능으로 의존성 주입이 가능하다.

그렇다면, 의존성 주입은 어떻게 동작할까?

## 클래스 정보 조회

리플렉션의 시작 : `Class<T>`

`Class<T>`에 접근하는 방법

- 모든 클래스를 로딩한 다음에는 `Class<T>`의 인스턴스가 생성된다.
  → “A.class”로 접근 가능
- 모든 인스턴스는 getClass() 메소드를 가지고 있다.
- Class.forName(”Fully Qualified Class Name”)
  → 해당 클래스가 없다면 ClassNotFoundException

`Class<T>`를 사용하면 필드 목록, 메소드 목록, 상위 클래스, 인터페이스 목록, 애노테이션, 생성자 등을 가져올 수 있다.

## 애노테이션과 리플렉션

Java에서 애노테이션 만드는 방법

```java
public @interface MyAnnotation {
    ...
}
```

기본적으로 애노테이션은 주석, 코멘트와 마찬가지이다. (조금 더 기능이 있는)

근본적으로는 주석이랑 같은 취급을 받기 때문에 정보가 기본적으로 클래스까지는 남는다.

클래스를 바이트 코드로 로딩했을 때 메모리 상에는 남지 않는다.

> 애노테이션을 런타임도중에 볼 수 있는 방법

```java
@Retention(RetentionPolicy.RUNTIME)
public @interface MyAnnotation {
}
```
